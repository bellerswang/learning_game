<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>May's Sentence Lab</title>
    <meta name="description"
        content="Interactive sentence building missions for children - drag and drop magnetic words">
    <link rel="stylesheet" href="lab_style.css">
</head>

<body>
    <div id="app">
        <!-- ============================================ -->
        <!-- MISSION BOARD VIEW (Main Menu - Grid Layout) -->
        <!-- ============================================ -->
        <div id="board-view">
            <!-- Board Header -->
            <header id="board-header">
                <div class="header-left">
                    <button id="home-btn" class="btn-icon" title="Back to Games">ğŸ </button>
                </div>
                <div class="header-center">
                    <h1>ğŸ¯ Mission Board</h1>
                    <span id="progress-text">0 / 20 Complete</span>
                </div>
                <div class="header-right">
                    <button id="refresh-board-btn" class="btn-icon" title="New Missions">ğŸ”„</button>
                    <button id="reset-data-btn" class="btn-icon" title="Reset All Progress">ğŸ—‘ï¸</button>
                    <div class="score-display">
                        <span class="score-icon">â­</span>
                        <span id="total-score">0</span>
                    </div>
                </div>
            </header>

            <!-- Mission Grid -->
            <div id="mission-board">
                <!-- Tiles will be generated by JavaScript -->
            </div>

            <!-- Board Complete Celebration -->
            <div id="board-complete" class="hidden">
                <div class="celebration-content">
                    <h2>ğŸ‰ All Missions Complete! ğŸ‰</h2>
                    <p>You're a Sentence Superstar!</p>
                    <button id="new-board-btn" class="btn btn-success">New Missions ğŸ”„</button>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- GAME MODAL (Sentence Builder Overlay) -->
        <!-- ============================================ -->
        <div id="game-modal" class="modal hidden">
            <div class="modal-backdrop" id="game-modal-backdrop"></div>
            <div class="modal-content game-modal-content">
                <!-- Game Header -->
                <header id="game-header">
                    <div class="header-left">
                        <button id="close-game-btn" class="btn-icon" title="Back to Board">âœ•</button>
                    </div>
                    <div class="header-center">
                        <span id="mission-title">Mission 1</span>
                        <span id="mission-stars" class="mission-difficulty">â­</span>
                    </div>
                    <div class="header-right">
                        <div class="streak-display">
                            <span class="streak-icon">ğŸ”¥</span>
                            <span id="streak-value">0</span>
                        </div>
                    </div>
                </header>

                <!-- Silly Mode Indicator -->
                <div id="silly-indicator" class="hidden">
                    <span>ğŸ‘¾ SILLY MODE!</span>
                </div>

                <!-- MAIN GAME AREA -->
                <main id="game-area">
                    <!-- SENTENCE STRIP - Drop Zone -->
                    <div id="sentence-strip">
                        <div class="strip-label">Drop words here to build your sentence</div>
                        <div id="sentence-container"></div>
                        <div class="ruled-line"></div>
                    </div>

                    <!-- FEEDBACK AREA -->
                    <div id="feedback-area" class="hidden">
                        <span id="feedback-message"></span>
                    </div>

                    <!-- WORD BANK -->
                    <div id="word-bank">
                        <div class="bank-label">Word Bank</div>
                        <div id="bank-container"></div>
                    </div>
                </main>

                <!-- FOOTER / CONTROLS -->
                <footer id="controls">
                    <button id="reset-btn" class="btn btn-secondary">ğŸ”„ Reset</button>
                    <button id="check-btn" class="btn btn-primary">âœ“ Check</button>
                </footer>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- SUCCESS MODAL (Shown after completing a tile) -->
        <!-- ============================================ -->
        <div id="success-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content success-content">
                <div class="success-icon">âœ…</div>
                <h2>Brilliant!</h2>
                <p id="success-sentence" class="success-sentence"></p>
                <div class="success-stats">
                    <div class="stat">
                        <span class="stat-value" id="success-points">+10</span>
                        <span class="stat-label">Points</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="success-streak">ğŸ”¥ 1</span>
                        <span class="stat-label">Streak</span>
                    </div>
                </div>
                <button id="success-close-btn" class="btn btn-success">Continue</button>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- STREAK FIRE OVERLAY -->
        <!-- ============================================ -->
        <div id="streak-overlay">
            <div id="fire-border-left" class="fire-border"></div>
            <div id="fire-border-right" class="fire-border"></div>
            <div id="fire-border-bottom" class="fire-border"></div>
        </div>

        <!-- CONFETTI CANVAS -->
        <canvas id="confetti-canvas"></canvas>
    </div>

    <!-- Load Scripts -->
    <script src="sentence_data.js"></script>
    <script src="lab_engine.js"></script>
</body>

</html>